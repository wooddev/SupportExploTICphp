        
{% block choice_widget_expanded %}
{% spaceless %}
    <div {{ block('widget_container_attributes') }}>    
        <style type=text/css>
         div.agenda{
             float:left;
             width:100%;
             margin: 35px 0;
             font-family: Arial;
             font-size: 1em;
         }

         div.agenda-header{
             font-size:14px;
         }
         div.annee {
             float: none;
             display: left; 
             width:100%;
         }

         div.semaine{
             width:100%;
             float: left;
             display: left;
         }
         div.jour-container{
             float: left;
             width:100%;
             
         }   

         div.jour{
             float:left;             
         }
         div.creneau{
             float:none;
             display:block;
             border-style: solid;
             border-width: 0px;
             height: 15px;
             min-width: 100px;
             font-size: 0.9em;
             padding :1px;
             -moz-border-radius: 2px;
             -webkit-border-radius: 2px;
             border-radius: 2px;
         }
         .creneau-selectable{
             background: #b9d4b1;
         }
         .creneau-unselectable{
             background: #529924;
         }
         .creneau-vide{
             background: #d6d6d5;
         }
         .creneau-content{
             border : 1px solid black;
             line-height: 18px;
             width: auto;
             padding : 0 5px;
             height : 98%;
             -moz-border-radius: 2px;
             -webkit-border-radius: 2px;
             border-radius: 2px;
             -moz-box-shadow: 1px 1px 8px #aaa; 
             -webkit-box-shadow: 1px 1px 8px #aaa;
             box-shadow: 1px 1px 8px #aaa;
         }

         p{
             margin:0;
             padding:0;
         }
         .btn-success{
             margin-top:-10px;
             line-height:18px;
             padding:1px;
             font-size:10px;
         }
         form{
             display:inline;
             float:left;
             margin : 0 2px;
             padding : 0;

         }

         </style>
         <ul class="nav nav-tabs" id="myTab">
          
         {%for agenda in form.parent.vars.agendas%}
             <li><a href="#agenda{{loop.index}}"  data-toggle="tab">{{agenda.poste}}</a></li>
         {%endfor%}
         </ul>
         
         <div class='tab-content'>
         {%for agenda in form.parent.vars.agendas%}             
             <div class="tab-pane" id="agenda{{loop.index}}">                    
                 <div class="agenda">    
                     <div class="agenda-header">
                     <h4>Planning du {{agenda.dateDebut | date('d/m/Y')}} au {{agenda.dateFin | date('d/m/Y')}}</h4>           
                    <p> Type de camion : {{agenda.poste}}</p>
                    </div>
                    {%for agendaYear in agenda.agendasYear %}
                    <div class="annee"> 
                        {%for agendaWeek in agendaYear.agendasWeek%}
                        <div class="semaine"> {#Ann√©e : {{agendaYear.val}} | Semaine : {{agendaWeek.val}}#}
                        <div class="jour-container">
                            {%for agendaDay in agendaWeek.agendasDay%}
                            <div class="jour" style='width:{{90/(agendaWeek.agendasDay|length)}}%;'> {{agendaDay.val}}
                                 {%for creneau in agendaDay.creneaux %}
                                    <div class="creneau creneau-{{creneau.type}}" style="height: {{2.1*creneau.duree}}px">
                                            <div class="creneau-content">      
                                    {%if creneau.type =='vide'%}
                                    
                                    {%else%}                                                                          
                                        {%if creneau.type == 'selectable'%}                              
                                            {{form_widget(form.offsetGet(creneau.creneauStructure.id))}}
                                        {%endif%}
                                        {{creneau.dateTimeDebut|date('H:i')}}-{{creneau.dateTimeFin|date('H:i')}}                                    
                                        {%if creneau.creneauxAffiches is defined %} 
                                                
                                                   {%for creneauAffiche in creneau.creneauxAffiches%}
                                                            {%if creneauAffiche.Transporteur.nom is defined%}
                                                            <br>{{creneauAffiche.Transporteur.nom}}-{{creneauAffiche.TypeCamion}}                                                            
                                                            {%endif%}
                                                                                                                
                                                   {%endfor%}
                                                
                                        {%endif%}
                                    {%endif%}
                                            </div>                                
                                       </div> 
                                 {%endfor%}
                             </div>
                             {%endfor%}                
                         </div>
                         </div>
                         {%endfor%}
                     </div>
                     {%endfor%}
                </div>
            </div>
        {%endfor%}
        </div>         
    </div>
         

    
{% endspaceless %}
{% endblock choice_widget_expanded %}